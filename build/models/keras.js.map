{"version":3,"sources":["../../src/models/keras.js"],"names":["tf","process","env","gpu","require","DefaultOptions","inputWidth","inputHeight","inputChannels","learningRate","optimizer","KerasModel","options","filepath","model","KerasJS","Model","filesystem"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;AACA,IAAMA,EAAE,GAAIC,OAAO,CAACC,GAAR,CAAYC,GAAZ,KAAoB,IAArB,GAA6BC,OAAO,CAAC,2BAAD,CAApC,GAAoEA,OAAO,CAAC,uBAAD,CAAtF;AAEA,IAAMC,cAAc,GAAG;AACnBC,EAAAA,UAAU,EAAE,CADO;AAEnBC,EAAAA,WAAW,EAAE,CAFM;AAGnBC,EAAAA,aAAa,EAAE,IAHI;AAInBC,EAAAA,YAAY,EAAE,MAJK;AAKnBC,EAAAA,SAAS,EAAE;AALQ,CAAvB;;IAQMC,U;AACF,sBAAYC,OAAZ,EAAoB;AAAA;;AAChB,SAAKA,OAAL,GAAeA,OAAO,IAAIP,cAA1B;AACA,SAAKC,UAAL,GAAkBM,OAAO,CAACN,UAAR,IAAsBD,cAAc,CAACC,UAAvD;AACA,SAAKC,WAAL,GAAmBK,OAAO,CAACL,WAAR,IAAuBF,cAAc,CAACE,WAAzD;AACA,SAAKC,aAAL,GAAqBI,OAAO,CAACJ,aAAR,IAAyBH,cAAc,CAACG,aAA7D;AACA,SAAKC,YAAL,GAAoBG,OAAO,CAACH,YAAR,IAAwBJ,cAAc,CAACI,YAA3D;AACH;;;;yBAEII,Q,EAAS;AACV,WAAKC,KAAL,GAAa,IAAIC,oBAAQC,KAAZ,CAAkB;AAC3BH,QAAAA,QAAQ,EAARA,QAD2B;AAE3BI,QAAAA,UAAU,EAAE;AAFe,OAAlB,CAAb;AAIH;;;;;;eAGUN,U","sourcesContent":["import KerasJS from \"keras-js\";\r\nimport Optimizer from \"../Optimizer\";\r\nconst tf = (process.env.gpu === true) ? require(\"@tensorflow/tfjs-node-gpu\") : require(\"@tensorflow/tfjs-node\");\r\n\r\nconst DefaultOptions = {\r\n    inputWidth: 7,\r\n    inputHeight: 7,\r\n    inputChannels: 1024,\r\n    learningRate: 0.0001,\r\n    optimizer: \"adam\"\r\n};\r\n\r\nclass KerasModel {\r\n    constructor(options){\r\n        this.options = options || DefaultOptions;\r\n        this.inputWidth = options.inputWidth || DefaultOptions.inputWidth;\r\n        this.inputHeight = options.inputHeight || DefaultOptions.inputHeight;\r\n        this.inputChannels = options.inputChannels || DefaultOptions.inputChannels;\r\n        this.learningRate = options.learningRate || DefaultOptions.learningRate;\r\n    }\r\n\r\n    load(filepath){\r\n        this.model = new KerasJS.Model({\r\n            filepath,\r\n            filesystem: true\r\n        });\r\n    }\r\n}\r\n\r\nexport default KerasModel;"],"file":"keras.js"}